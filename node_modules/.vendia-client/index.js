"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.createVendiaClient = void 0;
const debug_1 = __importDefault(require("debug"));
const create_core_client_1 = require("./create-core-client");
const create_subscription_client_1 = require("./create-subscription-client");
const generated_1 = require("./generated");
const createVendiaClient = (options) => {
    const _logger = (0, debug_1.default)('@vendia/client');
    if (options.debug) {
        _logger('Debug enabled via options');
        debug_1.default.enable('@vendia/client');
    }
    const { _subscribe } = (0, create_subscription_client_1.createSubscriptionClient)(options, { _logger });
    const { _gqlClient, _requestWrapper, request } = (0, create_core_client_1.createCoreClient)(options, { _logger });
    const getSdkOptions = { _gqlClient, _requestWrapper, _subscribe };
    const blocks = (0, generated_1.getBlocks)(getSdkOptions);
    const contracts = (0, generated_1.getContracts)(getSdkOptions);
    const deployments = (0, generated_1.getDeployments)(getSdkOptions);
    const entities = (0, generated_1.getEntities)(getSdkOptions);
    const uniInfo = (0, generated_1.getUniInfo)(getSdkOptions);
    const settings = (0, generated_1.getSettings)(getSdkOptions);
    const folders = (0, generated_1.getFolders)(getSdkOptions);
    const files = (0, generated_1.getFiles)(getSdkOptions);
    const sharingPolicies = (0, generated_1.getSharingPolicies)(getSdkOptions);
    const storage = {
        files,
        folders,
    };
    return {
        request,
        deployments,
        blocks,
        storage,
        contracts,
        uniInfo,
        settings,
        entities,
        sharingPolicies,
    };
};
exports.createVendiaClient = createVendiaClient;
